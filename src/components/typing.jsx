import { TypeAnimation } from 'react-type-animation';
import { useMemo } from 'react';
import 'katex/dist/katex.min.css'; // –°—Ç–∏–ª—å –¥–ª—è KaTeX

// –ü–µ—Ä–≤—ã–π —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —à–∞–≥
const phrase_first = [
  '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ú–µ–Ω—è –∑–æ–≤—É—Ç –ê—Ä—Ç–µ–º –î–º–∏—Ç—Ä–∏–µ–≤–∏—á',
];

// –°–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ñ—Ä–∞–∑
const phrase_next = [
  '–≠—Ç–æ –º–æ—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞',
  'üßÆ ¬´–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç, –≥–¥–µ –º–æ–∂–Ω–æ –¥–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Ç—ã –ø—Ä–∞–≤¬ª',
  'Hello world!',
  '–°–∏–ª–∞ —Ç—è–∂–µ—Å—Ç–∏: F—Ç = mg',
  '–°–∏–ª–∞ —É–ø—Ä—É–≥–æ—Å—Ç–∏: F—É = k‚àÜx',
  '–°–∏–ª–∞ –ê—Ä—Ö–∏–º–µ–¥–∞: Fa = œÅ–∂‚àôg‚àôV–ø–æ–≥—Ä',
  '–ú–æ–∂–µ—à—å –¥–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –ª–µ–¥ –≤—Å–µ–≥–¥–∞ –ø–æ–≥—Ä—É–∂–µ–Ω –Ω–∞ 90% –≤ –≤–æ–¥—É?',
  '1 –∑–∞–∫–æ–Ω –ù—å—é—Ç–æ–Ω–∞: —Ç–µ–ª–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å, –∏–ª–∏ –ø–æ–∫–æ–∏—Ç—Å—è –µ—Å–ª–∏ –Ω–µ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è. ',
  '2 –∑–∞–∫–æ–Ω –ù—å—é—Ç–æ–Ω–∞: F = ma',
  '3 –∑–∞–∫–æ–Ω –ù—å—é—Ç–æ–Ω–∞: —Å–∏–ª–∞ –¥–µ–π—Å—Ç–≤–∏—è = —Å–∏–ª–µ –ø—Ä–æ—Ç–∏–≤–æ–¥–µ–π—Å—Ç–≤–∏—è',
  '–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è: E–ø = mgh',
  '–†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ: –ü—É—Ç—å = –°–∫–æ—Ä–æ—Å—Ç—å ‚àô –í—Ä–µ–º—è   S = Vt ',
  '–°–∫–æ—Ä–æ—Å—Ç—å (—Ä–∞–≤–Ω–æ—É—Å–∫–æ—Ä–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ): V = V0 + at',
  '–°–∏–ª–∞ –ê–º–ø–µ—Ä–∞: Fa–º–ø = BIL‚àôsin(Œ±)',
  '–°–∏–ª–∞ –õ–æ—Ä–µ–Ω—Ü–∞: F–ª = BVq‚àôsin(Œ±)',
  '–≠—Ç–æ—Ç —Å–∞–π—Ç - web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ React',
  '–û—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–¥ —ç—Ç–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Github',
  '–ü–µ—Ä–µ—Ä—ã–≤ –µ—Å—Ç—å - –º–æ–∂–Ω–æ –∏ –ø–æ–µ—Å—Ç—å',
  '–ï—Å–ª–∏ —Ö–æ—á–µ—à—å - –º–æ–≥—É –æ–±—É—á–∏—Ç—å –¥–µ–ª–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è',
  '–õ–∏–Ω–µ–π–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: f(x) = kx + b',
  'sin(30) = 1/2',
  'üåç –ß—Ç–æ –±—ã –Ω–∏ —Å–ª—É—á–∏–ª–æ—Å—å, –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è –≤—Å–µ–≥–¥–∞ —Ç—è–Ω–µ—Ç —Ç–µ–±—è –≤–Ω–∏–∑',
  'üî• –¢—Ä–µ–Ω–∏–µ –≤ —Ñ–∏–∑–∏–∫–µ –æ–±—ä—è—Å–Ω—è–µ—Ç, –ø–æ—á–µ–º—É —Ç—ã –æ–ø–∞–∑–¥—ã–≤–∞–µ—à—å –≤ —à–∫–æ–ª—É.',
  'ü§ñ –ö–æ–¥–∏—Ç—å –ª–µ–≥–∫–æ: –≤—Å–µ–≥–æ-—Ç–æ –Ω—É–∂–Ω–æ –æ—à–∏–±–∏—Ç—å—Å—è —Ç—ã—Å—è—á—É —Ä–∞–∑, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –æ–¥–Ω–æ –≤–µ—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ!'
];

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
const getRandomPhrases = (array, count) => {
  const shuffled = [...array].sort(() => Math.random() - 0.5);
  return shuffled.slice(0, count);
};

const ExampleComponent = () => {
  const steps = useMemo(() => {
    const randomPhrases = getRandomPhrases(phrase_next, 5);
    return [...phrase_first, ...randomPhrases].flatMap((step, index) => [
      step,
      index === 0 ? 4000 : 8000
    ]);
  }, []); // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

  return (
    <TypeAnimation
      sequence={steps}
      speed={1}
      wrapper="p"
      cursor={true}
      repeat={Infinity}
      style={{ fontSize: '2em', display: 'inline-block' }}
    />
  );
};

export default ExampleComponent;
